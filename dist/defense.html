<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>王国の守り - Vibe Coding Kids</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">
  <link rel="stylesheet" crossorigin href="/assets/style-b8B_kmCF.css">
</head>

<body>
    <div id="app" class="setup-page">
        <header class="hero-section">
            <div class="image-wrapper shield-wrapper">
                <img src="/defense-shield.png" alt="魔法の盾" class="hero-img pulse-anim" />
                <div class="overlay-text shield-text">王国の守り</div>
            </div>
            <h1>🛡️ 守りの魔法（セキュリティ）</h1>
            <p class="subtitle">みんなが安全に遊べるように、バリアを張ろう！</p>
        </header>

        <main>
            <div class="step-nav">
                <a href="#step1" class="step-link">Step 1: バリア(RLS)</a>
                <a href="#step2" class="step-link">Step 2: 掟(規約)</a>
            </div>

            <section id="step1" class="card blue-card">
                <div class="badge">STEP 1</div>
                <h2>🏰 お城に鍵をかけよう (RLS)</h2>
                <p>
                    アプリを作ると、インターネットの中に「データのお家（データベース）」ができます。<br>
                    でも、鍵をかけ忘れると、誰でも中に入って宝物を盗めてしまいます。<br>
                    そこで使うのが、<strong>「RLS（アールエルエス）」</strong>という魔法の鍵です。
                </p>

                <div class="illustration-box">
                    <span class="emoji">🔓</span> ➡️ <span class="emoji">🔒</span>
                </div>

                <div class="copy-area">
                    <h3>魔法の言葉（セキュリティ設定）</h3>
                    <p>AIにこう頼むだけで、自動的に頑丈な鍵をかけてくれます。</p>
                    <textarea id="rls-prompt" readonly class="short-text">
supabaseのデータベースに、RLS（行レベルセキュリティ）を設定してください。
「自分のデータは自分だけが見れる・編集できる」という設定にしたいです。
初心者なので、一番安全な設定をお願いします。
             </textarea>
                    <button onclick="copyToClipboard('rls-prompt')" class="copy-btn">📋 コピーする</button>
                </div>
            </section>

            <section id="step2" class="card yellow-card">
                <div class="badge">STEP 2</div>
                <h2>📜 王国の掟を作る (利用規約)</h2>
                <div class="image-wrapper scroll-wrapper">
                    <img src="/defense-scroll.png" alt="ルールの巻物" class="guide-img" />
                </div>
                <p>
                    たくさんの人がアプリで遊ぶようになると、ケンカが起きたり、ズルをする人が出るかもしれません。<br>
                    そうならないために、「この国（アプリ）のルール」を決めておく必要があります。<br>
                    これを<strong>「利用規約（りようきやく）」</strong>と言います。
                </p>

                <div class="copy-area">
                    <h3>魔法の言葉（規約の作成）</h3>
                    <p>AIは法律の知識も持っています。下書きを書いてもらいましょう。</p>
                    <textarea id="legal-prompt" readonly class="short-text">
このアプリの「利用規約」と「プライバシーポリシー」の下書きを作ってください。
個人開発のシンプルなアプリです。
・ユーザー同士のトラブルは責任を負わない
・個人情報の取り扱いについて
これらを分かりやすく明記してください。
             </textarea>
                    <button onclick="copyToClipboard('legal-prompt')" class="copy-btn">📋 コピーする</button>
                </div>
                <p class="note">※ できあがった文章は、必ずお父さん・お母さんに読んでもらってね！</p>
            </section>

            <section class="card green-card final-step">
                <h2>🎉 これで完璧な王国だ！</h2>
                <p>
                    攻め（アプリ作り）だけじゃなく、守り（セキュリティ）もできるなんて、<br>
                    キミはもう立派な「コードの魔法使い」だ！
                </p>
                <div class="nav-links">
                    <a href="/" class="text-link">🏠 トップページに戻る</a>
                </div>
            </section>
        </main>

        <footer>
            <p>© 2026 niji-blog | Let's Vibe! 🌈</p>
        </footer>
    </div>
    <script>
        function copyToClipboard(elementId) {
            const copyText = document.getElementById(elementId);
            copyText.select();
            document.execCommand("copy");
            const btn = document.querySelector(`button[onclick="copyToClipboard('${elementId}')"]`);
            const originalText = btn.textContent;
            btn.textContent = "✅ コピーしました！";
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }
    </script>
</body>

</html>