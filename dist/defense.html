<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>王国の守り - Vibe Coding Kids</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">
  <link rel="stylesheet" crossorigin href="/assets/style-BDH8mnMK.css">
</head>

<body>
    <div id="app" class="setup-page">
        <header class="hero-section">
            <a href="/" class="site-logo">🏠 Vibe Coding Kids</a>
            <div class="image-wrapper shield-wrapper">
                <img src="/defense-shield.png" alt="魔法の盾" class="hero-img pulse-anim" />
                <div class="overlay-text shield-text">王国の守り</div>
            </div>
            <h1>🛡️ 守りの魔法（セキュリティ）</h1>
            <p class="subtitle">アプリを公開する前の「守りの三柱」</p>
        </header>

        <main>
            <section class="card blue-card">
                <h2>🏰 ルール4：全世界公開時の強制監査</h2>
                <p>
                    アプリを全世界に公開する時は、必ず以下の「守りの三柱」を提案・監査し、承認を得ること。
                </p>

                <div class="instruction-box">
                    <h3>守りの三柱</h3>
                    <ol>
                        <li><strong>技術的防御 (RLS)</strong>: 全てのDBテーブルに適切なRLS（行レベルセキュリティ）が設定されているか。</li>
                        <li><strong>法的防御 (規約等)</strong>: 利用規約・プライバシーポリシー・特商法表記の設置。</li>
                        <li><strong>通信の安全 (HTTPS)</strong>: 通信が暗号化（SSL）されているか。</li>
                    </ol>
                </div>

                <div class="copy-area">
                    <h3>魔法の言葉（セキュリティ監査）</h3>
                    <p>公開前に、AIに必ずこう聞こう！</p>
                    <textarea id="audit-prompt" readonly class="short-text">
【全世界公開時の強制監査】
アプリを公開したいです。以下の「守りの三柱」について監査してください。

1. 技術的防御 (RLS): 全てのテーブルにRLSは設定されていますか？
2. 法的防御: 利用規約・プライバシーポリシーは設置されていますか？
3. 通信の安全: HTTPS化されていますか？

不足があれば、作成・設定をサポートしてください。
             </textarea>
                    <button onclick="copyToClipboard('audit-prompt')" class="copy-btn">📋 コピーする</button>
                </div>
            </section>

            <section class="card green-card final-step">
                <h2>🚀 次は「公開」だ！</h2>
                <p>
                    守りが完璧なら、いよいよ世界へ飛び出そう！<br>
                    GitHubとVercel（バーセル）を使って、みんなにアプリを見てもらう方法だよ。
                </p>
                <div class="nav-links" style="text-align: center;">
                    <a href="/deploy.html" class="action-btn" style="background-color: var(--color-purple);">🌍 次へ：世界への扉
                        (GitHub/Vercel)</a>
                    <div style="margin-top: 20px;">
                        <a href="/" class="text-link">🏠 トップページに戻る</a>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>© 2026 niji-blog | Let's Vibe! 🌈</p>
        </footer>
    </div>
    <script>
        function copyToClipboard(elementId) {
            const copyText = document.getElementById(elementId);
            copyText.select();
            document.execCommand("copy");
            const btn = document.querySelector(`button[onclick="copyToClipboard('${elementId}')"]`);
            const originalText = btn.textContent;
            btn.textContent = "✅ コピーしました！";
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }
    </script>
</body>

</html>